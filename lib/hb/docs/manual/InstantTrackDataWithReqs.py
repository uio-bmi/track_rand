In [1]: from gold.track.TrackFormat import TrackFormatReq

In [2]: from gold.track.Track import Track

In [3]: track = Track(['Genes and gene subsets','Genes','Refseq'])

In [4]: req = TrackFormatReq(interval=False, allowOverlaps=True)

In [5]: track.addFormatReq(req)

In [6]: track.setFormatConverter('SegmentToMidPointFormatConverter')

In [7]: from gold.track.GenomeRegion import GenomeRegion

In [8]: region = GenomeRegion('hg19','chr1',1000000,2000000)

In [9]: tv = track.getTrackView(region)

In [10]: for el in tv:
    print el.start(), el.end(), el.name()
   ....:
8406 8407 NM_001205252
34466 34467 NM_017891
75915 75916 NR_038869
102530 102531 NR_029639
103287 103288 NR_029834
104425 104426 NR_029957
118159 118160 NM_153254
121299 121300 NM_001130045
140488 140489 NM_148902
140488 140489 NM_148901
140488 140489 NM_004195
148126 148127 NM_003327
159867 159868 NM_016176
159867 159868 NM_016547
169024 169025 NM_080605
179963 179964 NM_001014980
199262 199263 NM_194458
199262 199263 NM_058167
199262 199263 NM_194315
199262 199263 NM_194457
221612 221613 NR_037668
221612 221613 NM_001130413
235516 235517 NM_030649
245525 245526 NM_153339
253515 253516 NM_001256456
253515 253516 NM_017871
253515 253516 NM_001256460
253515 253516 NM_001256462
253515 253516 NM_001256463
262209 262210 NM_001029885
268284 268285 NM_152228
277574 277575 NM_004421
290992 290993 NM_032348
309836 309837 NM_001127230
309844 309845 NM_001127229
309963 309964 NM_017900
327904 327905 NM_030937
331192 331193 NM_001039577
336167 336168 NR_015434
339984 339985 NM_017971
355311 355312 NM_001243536
355311 355312 NM_001243535
355311 355312 NM_001145210
362337 362338 NM_001146685
374582 374583 NM_199121
374582 374583 NM_022834
395303 395304 NM_001039211
419372 419373 NM_031921
458794 458795 NM_018188
458794 458795 NM_001170535
458988 458989 NM_001170536
472948 472949 NM_001114748
493657 493658 NM_014188
534431 534432 NM_001242659
558392 558393 NM_001170686
558392 558393 NM_001170687
558392 558393 NR_033183
558392 558393 NM_080875
558392 558393 NM_001170688
558617 558618 NM_001170689
568794 568795 NM_006983
569092 569093 NR_002946
608590 608591 NM_001110781
613437 613438 NM_033488
613437 613438 NM_033493
613437 613438 NM_033487
613437 613438 NM_033492
613437 613438 NM_033486
613437 613438 NM_033489
632312 632313 NR_002946
644980 644981 NM_024011
644980 644981 NM_033529
666857 666858 NM_001199787
668130 668131 NM_182838
686375 686376 NM_001198995
696289 696290 NM_023018
696483 696484 NM_001198993
697089 697090 NM_001198994
769625 769626 NM_002074
847499 847500 NM_138705
849884 849885 NM_178545
910013 910014 NM_001080484
956479 956480 NM_000815

In [11]: tv.startsAsNumpyArray()
Out[11]:
memmap([  8406,  34466,  75915, 102530, 103287, 104425, 118159, 121299,
       140488, 140488, 140488, 148126, 159867, 159867, 169024, 179963,
       199262, 199262, 199262, 199262, 221612, 221612, 235516, 245525,
       253515, 253515, 253515, 253515, 253515, 262209, 268284, 277574,
       290992, 309836, 309844, 309963, 327904, 331192, 336167, 339984,
       355311, 355311, 355311, 362337, 374582, 374582, 395303, 419372,
       458794, 458794, 458988, 472948, 493657, 534431, 558392, 558392,
       558392, 558392, 558392, 558617, 568794, 569092, 608590, 613437,
       613437, 613437, 613437, 613437, 613437, 632312, 644980, 644980,
       666857, 668130, 686375, 696289, 696483, 697089, 769625, 847499,
       849884, 910013, 956479], dtype=int32)

In [12]: print tv.anchor
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-12-9c289ff77705> in <module>()
----> 1 print tv.anchor

AttributeError: 'TrackView' object has no attribute 'anchor'

In [13]: print tv.genomeAnchor
chr1:1000001-2000000

In [14]: tv.endsAsNumpyArray() - tv.startsAsNumpyArray
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-14-7aaff60835aa> in <module>()
----> 1 tv.endsAsNumpyArray() - tv.startsAsNumpyArray

TypeError: unsupported operand type(s) for -: 'int' and 'instancemethod'

In [15]: tv.endsAsNumpyArray() - tv.startsAsNumpyArray()
Out[15]:
memmap([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], dtype=int32)

In [16]: (tv.endsAsNumpyArray() - tv.startsAsNumpyArray()).sum()
Out[16]: memmap(83)

In [17]: 
